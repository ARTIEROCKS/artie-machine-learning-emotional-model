schema: '2.0'
stages:
  download:
    cmd: python src/download.py params.yaml
    outs:
    - path: data/CK+
      md5: e1c8b38aa6b547b44be89d1ae6bdd233.dir
      size: 1666260883
      nfiles: 10731
    - path: data/FER2013
      md5: 8951f54b0c9f75c74db0a1ce61c78bc5.dir
      size: 56516337
      nfiles: 35888
    - path: data/LirisChildren
      md5: 42e81046821beb33cf76a779c9f3a383.dir
      size: 458015053
      nfiles: 208
  download_videos:
    cmd: python src/download_videos_from_db.py params.yaml
    outs:
    - path: data/artie_videos
      md5: 285757fa3295e690d0a3fd2730e4a055.dir
      size: 166163587
      nfiles: 413
  data_augmentation:
    cmd: python src/bilstm_data_augmentation.py params.yaml
    deps:
    - path: data/CK+
      md5: e1c8b38aa6b547b44be89d1ae6bdd233.dir
      size: 1666260883
      nfiles: 10731
    - path: data/FER2013
      md5: 8951f54b0c9f75c74db0a1ce61c78bc5.dir
      size: 56516337
      nfiles: 35888
    - path: data/LirisChildren
      md5: 42e81046821beb33cf76a779c9f3a383.dir
      size: 458015053
      nfiles: 208
    outs:
    - path: data/CK_Augmented/CK+_augmented
      md5: 1d20a9027b0ab0b5e5b1c23297636f6d.dir
      size: 148581874
      nfiles: 2616
  normalization:
    cmd: python src/normalization.py params.yaml
    deps:
    - path: data/CK_Augmented/CK+_augmented
      md5: 1d20a9027b0ab0b5e5b1c23297636f6d.dir
      size: 148581874
      nfiles: 2616
    outs:
    - path: data/normalization
      md5: 1f4f3362ec33fd88bfa3a3a3a09ae2e5.dir
      size: 116293081
      nfiles: 64155
  training:
    cmd: python src/training.py params.yaml
    deps:
    - path: data/normalization
      md5: 05cb5a83d92ef732e8b708c00266bf13.dir
      size: 61930909
      nfiles: 38502
    params:
      params.yaml:
        training.batch_size: 64
        training.epochs: 30
        training.train_percentage: 0.8
    outs:
    - path: metrics/plots.csv
      md5: 3ae34f003e2abeabe7fa568c36898241
      size: 3790
    - path: metrics/scores.json
      md5: a4ad0aac7a9b188a1639c39d1c3bfbdd
      size: 135
    - path: model/fer.h5
      md5: c09505f5d0ae7fc881b5af0e98176cf6
      size: 7700960
    - path: model/fer.json
      md5: dc94f95504f88010b552f142ec53c9d1
      size: 9087
