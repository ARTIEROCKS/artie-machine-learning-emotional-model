schema: '2.0'
stages:
  download:
    cmd: python src/download.py params.yaml
    outs:
    - path: data/CK+.zip
      md5: 96a0d6b5368dd2b92f78cdc2ab730dde
      size: 1669368768
  download_videos:
    cmd: python src/download_videos_from_db.py params.yaml
    outs:
    - path: data/artie_videos
      md5: 285757fa3295e690d0a3fd2730e4a055.dir
      size: 166163587
      nfiles: 413
  data_augmentation:
    cmd: python src/bilstm_preprocess.py params.yaml
    deps:
    - path: data/CK+.zip
      md5: 96a0d6b5368dd2b92f78cdc2ab730dde
      size: 1669368768
    outs:
    - path: data/CK_Augmented/emotions.csv
      md5: 313e2c18a0d99f23f1d1c06bd2163adc
      size: 175300
  normalization:
    cmd: python src/normalization.py params.yaml
    deps:
    - path: data/CK_Augmented/emotions.csv
      md5: 313e2c18a0d99f23f1d1c06bd2163adc
      size: 175300
    outs:
    - path: data/CK_Augmented/normalization
      md5: 2ccb78ab3e0eb8fcd8195fc8fd1f2576.dir
      size: 3742276
      nfiles: 2616
  training:
    cmd: python src/training.py params.yaml
    deps:
    - path: data/CK_Augmented/normalization
      md5: 2ccb78ab3e0eb8fcd8195fc8fd1f2576.dir
      size: 3742276
      nfiles: 2616
    params:
      params.yaml:
        training.batch_size: 64
        training.epochs: 30
        training.train_percentage: 0.8
    outs:
    - path: model/fer.h5
      md5: f23c2d7839952d9971a04ec6ff183d2a
      size: 7700960
    - path: model/fer.json
      md5: dc94f95504f88010b552f142ec53c9d1
      size: 9087
